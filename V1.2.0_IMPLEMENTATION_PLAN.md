# Plan Implementacji v1.2.0

## Priorytetyzacja zadań

### Faza 1: Podstawowe ulepszenia (High Priority)
1. **Dry-run diff output** - Pokazywanie unified diff w suggest mode
   - Użycie `diff` lub `unified_diff` do wyświetlania zmian
   - Format podobny do `git diff`
   - Integracja z istniejącym outputem w Command

2. **Fixer priorities** - Kontrola kolejności wykonania fixerów
   - Dodanie `priority` do `FixStrategyInterface`
   - Sortowanie fixerów w `AutoFixService` według priorytetu
   - Konfiguracja priorytetów w config file

### Faza 2: Konfiguracja (Medium Priority)
3. **Configuration file - Enable/disable fixers**
   - Rozszerzenie config o sekcję `fixers`
   - Możliwość włączania/wyłączania poszczególnych fixerów
   - Integracja z `PhpstanAutoFixCommand`

4. **Whitelist/Blacklist** - Konfiguracja plików/katalogów
   - Dodanie `include_paths` i `exclude_paths` do config
   - Filtrowanie plików przed przetwarzaniem
   - Wzorce glob/regex

### Faza 3: Zaawansowane funkcje (Lower Priority)
5. **Custom fixers** - Rejestracja własnych fixerów
   - Interfejs do rejestracji custom fixerów
   - Ładowanie z config file lub przez API
   - Dokumentacja i przykłady

6. **Better type inference** - Lepsze wnioskowanie typów
   - Analiza kontekstu użycia
   - Wykorzystanie type hints z kodu
   - Integracja z PHPStan type system

7. **Framework detection** - Auto-wykrywanie frameworków
   - Wykrywanie Laravel (composer.json, struktura katalogów)
   - Wykrywanie Symfony
   - Automatyczne włączanie framework-specific fixerów

8. **Progress indicators** - Wskaźniki postępu
   - Progress bar dla długich operacji
   - Integracja z Symfony Console ProgressBar
   - Szacowanie czasu wykonania

## Kolejność implementacji

**Sprint 1:**
- [ ] Dry-run diff output
- [ ] Fixer priorities

**Sprint 2:**
- [ ] Configuration file - Enable/disable fixers
- [ ] Whitelist/Blacklist

**Sprint 3:**
- [ ] Custom fixers
- [ ] Better type inference (podstawowa wersja)

**Sprint 4:**
- [ ] Framework detection
- [ ] Progress indicators

## Szczegóły techniczne

### Dry-run diff output
- Użycie `SebastianBergmann\Diff\Differ` lub natywnego `diff`
- Format: unified diff (---/+++)
- Koloryzacja w terminalu
- Opcja `--diff` w Command

### Fixer priorities
```php
interface FixStrategyInterface {
    public function getPriority(): int; // default: 0, wyższe = wcześniej
}
```

### Configuration file structure
```yaml
fixers:
  enabled:
    - MissingReturnDocblockFixer
    - MissingParamDocblockFixer
  disabled:
    - UndefinedPivotPropertyFixer
  priorities:
    MissingReturnDocblockFixer: 100
    MissingParamDocblockFixer: 90

include_paths:
  - src/
  - app/

exclude_paths:
  - vendor/
  - tests/
  - "**/*Test.php"
```

